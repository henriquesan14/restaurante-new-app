<h4 class="card-header text-center">Atualizar perfil</h4>
<div class="container">
    <main>
        <div class="row g-5">
            <div class="col-md-12">
                <form [formGroup]="formProfile" (submit)="submit()">
                    <div class=" mb-2 box-avatar">
                        <!-- Avatar -->
                        <img ngbTooltip="Selecione uma imagem" #avatarImage id="avatar" [src]="avatarSelecionado" alt="Editar Avatar" (click)="fileInput.click()">
                        
                        <!-- Input de arquivo oculto -->
                        <input type="file" id="fileInput" #fileInput style="display: none;" (change)="onFileSelected($event)" accept="image/*">
                        @if(avatar && (avatar.urlLocal || avatar.url)){
                            <button (click)="deleteAvatar()" type="button" class="btn btn-sm btn-danger mt-2">
                                <fa-icon [icon]="faTrash"></fa-icon>
                                Remover
                            </button>
                        }
                    </div>
                
                    <h4 class="mb-3">Dados Pessoais</h4>
                    <div class="row mb-1">
                        <div class="col-sm-6">
                            <label for="nome" class="form-label">Nome</label>
                            <input maxlength="100" formControlName="nome" name="nome" type="text" class="form-control" id="nome"
                                placeholder="Nome">
                            @if(isInvalidAndTouched('nome')){
                            <div class="invalid-feedback">
                                O campo é obrigatório
                            </div>
                            }
                        </div>
                
                        <div class="col-sm-6">
                            <label for="email" class="form-label">Email</label>
                            <input maxlength="100" formControlName="email" name="email" type="email" class="form-control" id="email"
                                placeholder="Email" autocomplete="true">
                            @if(isInvalidAndTouched('email')){
                            @if(getError('email', 'required')){
                            <div class="invalid-feedback">
                                O campo é obrigatório
                            </div>
                            }
                            @if(getError('email', 'email')){
                            <div class="invalid-feedback">
                                O campo tem ser um email válido
                            </div>
                            }
                            }
                        </div>
                    </div>
                
                    <div class="row mb-1">
                        <div class="col-sm-6">
                            <label for="telefone" class="form-label">Telefone</label>
                            <input mask="(00) 00000-0000" maxlength="100" formControlName="telefone" name="telefone" type="text"
                                class="form-control" id="telefone" placeholder="Telefone">
                            @if(isInvalidAndTouched('telefone')){
                            <div class="invalid-feedback">
                                O campo é obrigatório
                            </div>
                            }
                        </div>
                
                    </div>
                
                    <div class="row mt-3">
                        <div class="col-sm-12">
                            <btn-cadastrar title="Atualizar perfil"></btn-cadastrar>
                        </div>
                    </div>
                </form>
                <btn-voltar></btn-voltar>
            </div>
        </div>
    </main>
</div>
<ngx-spinner type="ball-clip-rotate-multiple"></ngx-spinner>